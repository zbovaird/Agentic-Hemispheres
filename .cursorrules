# Agentic Hemispheres — Cursor Template

This project uses a **bi-hemispheric AI orchestration** model (Master–Emissary) for Cursor. When you use this repo as a template, the AI will follow these conventions.

## Architecture Overview

- **Master (RH):** High-reasoning model (Claude 4.6 Opus). The user's primary agent — handles planning, architecture, code review, and strategy.
- **Emissary (LH):** Task-focused model (Gemini 2.5 Flash). Spawned by the Master as a subagent for implementation, TDD, and sequential coding. Returns results to the Master automatically.
- **Corpus Callosum:** Communication is limited to structured JSON handshakes and signals—never dump full context.

## Project Structure

- `.cursor/rules/` — Agent behavior rules (01_master_rh, 02_emissary_lh, 03_callosum, 04_security)
- `.cursor/mcp.json` — MCP server config (stdio-only: local-filesystem, security-audit)
- `.cursor/plans/` — Gestalt plans, handshakes, proofs, and `workspace_state.json`
- `scripts/wt-spawn.sh` — Spawn parallel git worktrees for concurrent Emissary sessions
- `test-runs/` — Validation artifacts and analyses

## Coding Standards

1. **TDD:** Write tests first, confirm failure, then implement.
2. **File Boundary:** Only modify files listed in the Master's `target_files` for a given intent.
3. **No Scope Creep:** Do not make "while-I'm-here" improvements outside the intent.
4. **Data Compression:** Summarize raw outputs to ≤20 lines before sending to Master.
5. **STDIO Only:** MCP tools run as local child processes. No remote MCP URLs unless authorized.

## Handshake Protocol

Master issues a JSON handshake with `intent_id`, `architectural_constraint`, `target_files`, and `acceptance_criteria`. Emissary returns an `implementation_proof` or `ESCALATE`/`SURPRISE` signal. Master reviews and issues `APPROVE` or `SUPPRESS`.

## When Using This Template

1. Open the repo in Cursor and select **Claude 4.6 Opus** (or your preferred high-reasoning model) as the active model.
2. Ensure **Gemini 2.5 Flash** (or your preferred fast model) is enabled — the Master will spawn it as a subagent.
3. Describe your task to the Master. It plans, dispatches the Emissary subagent, and reviews the result. No manual mode switching needed.
4. For security-audit MCP: set `SNYK_TOKEN` in your environment.
5. Run `scripts/wt-spawn.sh <task-name> <branch>` for parallel work, then open each worktree in a new Cursor window.
6. See `High-level plan/high-level plan.md` for the full workflow and signal types.
